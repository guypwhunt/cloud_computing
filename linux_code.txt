# Install PIP
sudo apt update
sudo apt install python3-pip

# Install REST Service
pip3 install Flask

# Install other libraries
pip3 install pyjwt
pip3 install requests
pip3 install requests-cache

# Set Up my SQL
sudo apt-get install mysql-client

# Install SQL connectors
sudo apt-get install unixodbc-dev
pip3 install pyodbc
pip3 install mysql-connector-python


# Install docker, nginx and gcc
sudo apt install docker.io
sudo docker pull nginx
sudo apt-get install gcc

# Set up Git Repo
git init
git config user.name "guypwhunt"
git config user.email "guypwhunt1992@gmail.com"
git clone https://github.com/guypwhunt/cloud_computing

# Create a new working directory
cd cloud_computing

# Build the doker image
sudo docker build -t investment_app:v5 .
	
# Run the docker image
sudo docker run -p 80:80 investment_app:v5



##### IGNORE THE FOLLOWING LINES

#sudo microk8s.kubectl expose deployment test --type=LoadBalancer
#sudo microk8s.kubectl scale deployment test --replicas=10
#sudo microk8s.kubectl run test --image=investment_app #--port=5000

# Install Kubernetes
sudo apt update
sudo snap install microk8s --classic --channel=1.18/stable
sudo apt-get install swapspace
sudo apt-get update

# Update proxy setttings
unset http_proxy
unset https_proxy

# Deploying the application
sudo microk8s kubectl run investment-app --image=investment_app:v5 --port=80

