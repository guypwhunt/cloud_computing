# Docker Login
sudo docker login

# Create a new working directory
cd cloud_computing

# Build the doker image
sudo docker build -t guypwhunt1992/investment_app:v5 .

# Run the docker image
sudo docker run -p 80:80 guypwhunt1992/investment_app:v5

# Find docker image id
sudo docker images

# Tag image correctly
sudo docker tag 21cc90b7164d guypwhunt1992/investment_app:v5

# Push image to registery
sudo docker push guypwhunt1992/investment_app:v5

# Start the container from image
sudo docker container run -d -it --name investment guypwhunt1992/investment_app:v5

# Build POD from Manifest file
sudo nano create-investmentpod.yml

# Add content to yaml file
apiVersion: v1
kind: Pod
metadata:
   name: investment-pod
spec:
   containers:
   - name: investment-container01
     image: guypwhunt1992/investment_app:v5
     ports:
     - containerPort: 6379

# Create POD from Manifest file
sudo microk8s kubectl create -f create-investmentpod.yml

# Check it is running
sudo microk8s kubectl get pods